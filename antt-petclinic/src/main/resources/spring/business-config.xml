<?xml version="1.0" encoding="UTF-8"?>
<!--
    Repository and Service layers
-->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jpa="http://www.springframework.org/schema/data/jpa"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <!--&lt;!&ndash; ========================= RESOURCE DEFINITIONS ========================= &ndash;&gt;-->

    <!--&lt;!&ndash; import the dataSource definition &ndash;&gt;-->
    <!--<import resource="datasource-config.xml"/>-->

    <!--<context:component-scan-->
            <!--base-package="org.springframework.samples.petclinic.service"/>-->

    <!--&lt;!&ndash; Configurer that replaces ${...} placeholders with values from a properties file &ndash;&gt;-->
    <!--&lt;!&ndash; (in this case, JDBC-related settings for the JPA EntityManager definition below) &ndash;&gt;-->
    <!--<context:property-placeholder location="classpath:spring/data-access.properties"/>-->

    <!--&lt;!&ndash; enables scanning for @Transactional annotations &ndash;&gt;-->
    <!--<tx:annotation-driven />-->


    <!--<beans profile="jpa,spring-data-jpa">-->
        <!--&lt;!&ndash; JPA EntityManagerFactory &ndash;&gt;-->
        <!--<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"-->
              <!--p:dataSource-ref="dataSource">-->
            <!--<property name="jpaVendorAdapter">-->
                <!--<bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"-->
                      <!--p:database="${jpa.database}" p:showSql="${jpa.showSql}"/>-->
            <!--</property>-->
            <!--&lt;!&ndash; gDickens: BOTH Persistence Unit and Packages to Scan are NOT compatible, persistenceUnit will win &ndash;&gt;-->
            <!--<property name="persistenceUnitName" value="petclinic"/>-->
            <!--<property name="packagesToScan" value="org.springframework.samples.petclinic"/>-->
        <!--</bean>-->

        <!--&lt;!&ndash; Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) &ndash;&gt;-->
        <!--<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager"-->
              <!--p:entityManagerFactory-ref="entityManagerFactory"/>-->


        <!--&lt;!&ndash;-->
            <!--Post-processor to perform exception translation on @Repository classes (from native-->
            <!--exceptions such as JPA PersistenceExceptions to Spring's DataAccessException hierarchy).-->
        <!--&ndash;&gt;-->
        <!--<bean class="org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor"/>-->

    <!--</beans>-->

    <!--<beans profile="jdbc">-->
        <!--&lt;!&ndash; Transaction manager for a single JDBC DataSource (alternative to JTA) &ndash;&gt;-->
        <!--<bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"-->
              <!--p:dataSource-ref="dataSource"/>-->

        <!--<bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">-->
            <!--<constructor-arg ref="dataSource"/>-->
        <!--</bean>-->

        <!--<bean id="namedParameterJdbcTemplate"-->
              <!--class="org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate">-->
            <!--<constructor-arg ref="dataSource"/>-->
        <!--</bean>-->

        <!--<context:component-scan base-package="org.springframework.samples.petclinic.repository.jdbc"/>-->
    <!--</beans>-->

    <!--<beans profile="jpa">-->
        <!--&lt;!&ndash;-->
            <!--Will automatically be transactional due to @Transactional.-->
            <!--EntityManager will be auto-injected due to @PersistenceContext.-->
            <!--PersistenceExceptions will be auto-translated due to @Repository.-->
        <!--&ndash;&gt;-->
        <!--<context:component-scan base-package="org.springframework.samples.petclinic.repository.jpa"/>-->
    <!--</beans>-->

    <!--<beans profile="spring-data-jpa">-->
        <!--<jpa:repositories base-package="org.springframework.samples.petclinic.repository.springdatajpa"/>-->

        <!--&lt;!&ndash; Custom configuration for the custom implementation based on JPA &ndash;&gt;-->
        <!--<bean id="owerRepository"-->
              <!--class="org.springframework.samples.petclinic.repository.springdatajpa.JpaOwnerRepositoryImpl"/>-->
    <!--</beans>-->
</beans>